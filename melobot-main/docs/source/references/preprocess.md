# 事件预处理

## 预处理简介

所有事件都有预处理过程。预处理在事件处理函数执行前发生。预处理是否成功，将会决定后续的事件处理是否可以进行。预处理失败，将不会再进行事件处理；反之则可以进行事件处理。

每一个事件处理方法，都有**独立的预处理过程**。用户如果不指定预处理规则，事件绑定方法将会为事件处理方法**自动应用默认的预处理规则**。

## 预处理流程

```{admonition} 相关知识
:class: note
预处理流程由一个或多个环节组成。

任一环节没有规则，此环节直接通过。但任一环节不通过，预处理直接失败。所有环节通过，预处理才通过。
```

对于消息事件，它的预处理环节有两个，按顺序分别是：`匹配或解析`、`检查`：

- `匹配`：对消息中的纯文本内容进行匹配（和 `解析` 二选一）
- `解析`：对消息中的纯文本内容进行参数解析（和 `匹配` 二选一）
- `检查`：对消息事件进行检查

消息事件外的其他事件类型，预处理环节只有一个：`检查`：

- `检查`：对事件进行检查
